<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Tech Quiz Portal</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --success: #059669;
            --danger: #dc2626;
            --bg: #f8fafc;
            --card: #ffffff;
        }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: #1e293b; margin: 0; display: flex; justify-content: center; min-height: 100vh; }
        
        #main-wrapper { width: 90%; max-width: 900px; margin-top: 40px; display: grid; grid-template-columns: 1fr 250px; gap: 20px; }
        
        #quiz-container { background: var(--card); padding: 30px; border-radius: 12px; shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }

        /* Timer & Progress */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        #timer { font-size: 1.5rem; font-weight: 700; color: var(--danger); font-variant-numeric: tabular-nums; }
        .progress-container { height: 8px; background: #e2e8f0; border-radius: 10px; margin-bottom: 30px; }
        #progress-bar { height: 100%; width: 0%; background: var(--primary); border-radius: 10px; transition: 0.4s; }

        /* Question Palette (Sidebar) */
        .sidebar { background: var(--card); padding: 20px; border-radius: 12px; height: fit-content; }
        .palette-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 15px; }
        .dot { width: 35px; height: 35px; border: 1px solid #cbd5e1; border-radius: 6px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 0.9rem; }
        .dot.answered { background: var(--success); color: white; border-color: var(--success); }
        .dot.current { border: 2px solid var(--primary); font-weight: bold; }

        /* Question Styles */
        .question-step { display: none; }
        .active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .q-text { font-size: 1.25rem; font-weight: 600; margin-bottom: 20px; color: #0f172a; }
        .opt-label { 
            display: block; padding: 15px; margin-bottom: 12px; border: 2px solid #e2e8f0; 
            border-radius: 8px; cursor: pointer; transition: all 0.2s; 
        }
        .opt-label:hover { border-color: var(--primary); background: #eff6ff; }
        .opt-label.selected { background: #dbeafe; border-color: var(--primary); color: var(--primary); font-weight: 600; }

        /* Footer Buttons */
        .footer-nav { display: flex; justify-content: space-between; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e2e8f0; }
        .btn { padding: 10px 24px; border-radius: 6px; border: none; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .btn-gray { background: #64748b; color: white; }
        .btn-blue { background: var(--primary); color: white; }
        .btn-green { background: var(--success); color: white; }
        .btn:disabled { opacity: 0.4; }

        #result-screen { display: none; text-align: center; background: white; padding: 50px; border-radius: 12px; width: 100%; }

        @media (max-width: 768px) { #main-wrapper { grid-template-columns: 1fr; } .sidebar { order: -1; } }
    </style>
</head>
<body>

<div id="main-wrapper">
    <div id="quiz-container">
        <div class="header">
            <span style="font-weight: 600; color: #64748b;">Technical Assessment</span>
            <div id="timer">10:00</div>
        </div>
        
        <div class="progress-container">
            <div id="progress-bar"></div>
        </div>

        <div id="dynamic-questions">
            </div>

        <div class="footer-nav">
            <button id="prev-btn" class="btn btn-gray">Previous</button>
            <div>
                <button id="next-btn" class="btn btn-blue">Next Question</button>
                <button id="submit-btn" class="btn btn-green" style="display:none">Final Submit</button>
            </div>
        </div>
    </div>

    <aside class="sidebar">
        <h4 style="margin:0">Question Palette</h4>
        <div class="palette-grid" id="palette">
            </div>
        <p style="font-size: 0.8rem; color: #64748b; margin-top: 20px;">Green: Answered<br>Outline: Current</p>
    </aside>
</div>

<div id="result-screen">
    <h1 style="color: var(--primary)">Assessment Complete</h1>
    <p>Your technical proficiency score is:</p>
    <div style="font-size: 4rem; font-weight: 800; margin: 20px 0;" id="final-score">0</div>
    <div id="score-comment"></div>
    <button class="btn btn-blue" style="margin-top: 30px;" onclick="location.reload()">Retake Quiz</button>
</div>

<script>
$(document).ready(function() {
    const techQuestions = [
        { q: "Which of the following is NOT a JavaScript data type?", opts: ["Undefined", "Boolean", "Float", "Number"], ans: 2 },
        { q: "What is the purpose of 'use strict' in JavaScript?", opts: ["Enforces stricter parsing", "Speeds up execution", "Enables new features", "Minifies code"], ans: 0 },
        { q: "Which CSS property is used to create a flexbox container?", opts: ["display: flex", "content: flex", "box-type: flex", "align: flex"], ans: 0 },
        { q: "In jQuery, which symbol is used to access the library?", opts: ["&", "%", "$", "#"], ans: 2 },
        { q: "What does DOM stand for?", opts: ["Data Object Model", "Document Object Model", "Dynamic Output Mode", "Desktop Object Management"], ans: 1 },
        { q: "Which HTTP method is typically used to update data on a server?", opts: ["GET", "POST", "PUT", "DELETE"], ans: 2 },
        { q: "How do you select an element with id 'demo' in CSS?", opts: [".demo", "#demo", "*demo", "demo"], ans: 1 },
        { q: "Which company developed React.js?", opts: ["Google", "Amazon", "Facebook/Meta", "Microsoft"], ans: 2 },
        { q: "What is the default value of the 'position' property in CSS?", opts: ["Relative", "Absolute", "Fixed", "Static"], ans: 3 },
        { q: "Which array method adds an element to the end of an array?", opts: ["pop()", "shift()", "push()", "unshift()"], ans: 2 }
    ];

    let currentIdx = 0;
    let userChoices = new Array(techQuestions.length).fill(null);
    let timeLeft = 600;

    function buildQuiz() {
        techQuestions.forEach((item, i) => {
            // Build Question Step
            let optionsHtml = item.opts.map((opt, oIdx) => 
                `<label class="opt-label" data-q="${i}" data-o="${oIdx}">${opt}</label>`
            ).join('');

            $('#dynamic-questions').append(`
                <div class="question-step" id="step-${i}">
                    <div class="q-text">Q${i+1}: ${item.q}</div>
                    <div class="options-list">${optionsHtml}</div>
                </div>
            `);

            // Build Palette Dot
            $('#palette').append(`<div class="dot" id="dot-${i}" data-goto="${i}">${i+1}</div>`);
        });
        updateDisplay();
        startTimer();
    }

    function updateDisplay() {
        $('.question-step').removeClass('active');
        $(`#step-${currentIdx}`).addClass('active');
        
        $('.dot').removeClass('current');
        $(`#dot-${currentIdx}`).addClass('current');

        $('#prev-btn').prop('disabled', currentIdx === 0);
        
        if (currentIdx === techQuestions.length - 1) {
            $('#next-btn').hide();
            $('#submit-btn').show();
        } else {
            $('#next-btn').show();
            $('#submit-btn').hide();
        }

        let progress = ((currentIdx + 1) / techQuestions.length) * 100;
        $('#progress-bar').css('width', progress + '%');
    }

    // Selection Logic
    $(document).on('click', '.opt-label', function() {
        let q = $(this).data('q');
        let o = $(this).data('o');
        userChoices[q] = o;

        $(`#step-${q} .opt-label`).removeClass('selected');
        $(this).addClass('selected');
        $(`#dot-${q}`).addClass('answered');
    });

    // Sidebar Navigation
    $(document).on('click', '.dot', function() {
        currentIdx = $(this).data('goto');
        updateDisplay();
    });

    $('#next-btn').click(() => { currentIdx++; updateDisplay(); });
    $('#prev-btn').click(() => { currentIdx--; updateDisplay(); });

    function startTimer() {
        const timerObj = setInterval(() => {
            let min = Math.floor(timeLeft / 60);
            let sec = timeLeft % 60;
            $('#timer').text(`${min}:${sec < 10 ? '0' : ''}${sec}`);
            if (timeLeft <= 0) { clearInterval(timerObj); calculateScore(); }
            timeLeft--;
        }, 1000);
    }

    function calculateScore() {
        let score = 0;
        userChoices.forEach((choice, i) => {
            if(choice === techQuestions[i].ans) score++;
        });

        $('#main-wrapper').hide();
        $('#result-screen').fadeIn();
        $('#final-score').text(`${score} / ${techQuestions.length}`);
        
        let msg = score > 7 ? "Excellent Technical Knowledge!" : "Keep Practicing!";
        $('#score-comment').text(msg);
    }

    $('#submit-btn').click(calculateScore);
    buildQuiz();
});
</script>
</body>
</html>